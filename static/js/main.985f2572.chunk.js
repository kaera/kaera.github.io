(this.webpackJsonpsearch=this.webpackJsonpsearch||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(6),a=n.n(c),r=(n(11),n(12),n(2)),o=n.n(r),u=n(3),i=n(5),l=(n(14),n(0));function h(e){var t=e.userInput,n=e.suggestions,s=e.onSelect;return Object(l.jsx)("div",{"data-testid":"Suggest",children:n.map((function(e,n){var c=e.searchterm.indexOf(t);return Object(l.jsxs)("div",{className:"suggest-item",onClick:function(){s(e.searchterm)},children:[Object(l.jsx)("span",{children:e.searchterm.slice(0,c)}),Object(l.jsx)("strong",{children:t}),Object(l.jsx)("span",{children:e.searchterm.slice(c+t.length)}),Object(l.jsxs)("span",{className:"highlighted",children:[" (",e.nrResults,")"]})]},n)}))})}n(16);function j(e){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://104jmaadsj.execute-api.eu-central-1.amazonaws.com/default/search-suggest?q=".concat(t));case 3:return e.next=5,e.sent.json();case 5:return n=e.sent,e.abrupt("return",n.suggestions);case 9:return e.prev=9,e.t0=e.catch(0),console.error("Failed to obtain suggest data:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)([]),b=Object(i.a)(r,2),f=b[0],p=b[1],m=Object(s.useRef)(null);Object(s.useEffect)((function(){c&&c.trim().length>=2?Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(c);case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})))():p([])}),[c]);return Object(l.jsxs)("div",{className:"search","data-testid":"Search",children:[Object(l.jsxs)("form",{className:"search-box",onSubmit:function(t){t.preventDefault(),p([]),e.onSubmit(c)},children:[Object(l.jsx)("input",{value:c,name:"search",className:"input-search",placeholder:"Zoeken",onChange:function(e){a(e.target.value)},autoComplete:"off",autoFocus:e.autofocus,ref:m}),c?Object(l.jsx)("button",{className:"clear-button",type:"reset",onClick:function(e){e.preventDefault(),a(""),m.current.focus()}}):Object(l.jsx)(l.Fragment,{}),Object(l.jsx)("button",{className:"search-button",type:"submit"})]}),c.trim()?Object(l.jsx)(h,{suggestions:f,userInput:c,onSelect:function(t){a(t),e.onSubmit(t)}}):Object(l.jsx)(l.Fragment,{})]})}function p(){return Object(l.jsx)("div",{className:"App","data-testid":"App",children:Object(l.jsx)(f,{autofocus:!0,onSubmit:function(e){return console.log("Submitted:",e)}})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(l.jsx)(p,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[17,1,2]]]);
//# sourceMappingURL=main.985f2572.chunk.js.map