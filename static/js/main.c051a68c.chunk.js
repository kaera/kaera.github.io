(this.webpackJsonpsearch=this.webpackJsonpsearch||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(6),r=n.n(c),a=(n(11),n(12),n(2)),o=n.n(a),u=n(3),i=n(5),l=(n(14),n(0));function h(e){var t=e.userInput,n=e.suggestions,s=e.onSelect;return Object(l.jsx)("div",{"data-testid":"Suggest",children:n.map((function(e,n){var c=e.searchterm.indexOf(t);return Object(l.jsxs)("div",{className:"suggest-item",onClick:function(){s(e.searchterm)},children:[Object(l.jsx)("span",{children:e.searchterm.slice(0,c)}),Object(l.jsx)("strong",{children:t}),Object(l.jsx)("span",{children:e.searchterm.slice(c+t.length)}),Object(l.jsxs)("span",{className:"highlighted",children:[" (",e.nrResults,")"]})]},n)}))})}n(16);function j(){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/search");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)([]),f=Object(i.a)(a,2),b=f[0],m=f[1],p=Object(s.useRef)(null);Object(s.useEffect)((function(){c?Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,n=t.suggestions.filter((function(e){return e.searchterm.toLowerCase().includes(c.toLowerCase())})),m(n);case 5:case"end":return e.stop()}}),e)})))():m([])}),[c]);return Object(l.jsxs)("div",{className:"search","data-testid":"Search",children:[Object(l.jsxs)("form",{className:"search-box",onSubmit:function(t){t.preventDefault(),m([]),e.onSubmit(c)},children:[Object(l.jsx)("input",{value:c,name:"search",className:"input-search",placeholder:"Zoeken",onChange:function(e){r(e.target.value)},autoComplete:"off",autoFocus:e.autofocus,ref:p}),c?Object(l.jsx)("button",{className:"clear-button",type:"reset",onClick:function(e){e.preventDefault(),r(""),p.current.focus()}}):Object(l.jsx)(l.Fragment,{}),Object(l.jsx)("button",{className:"search-button",type:"submit"})]}),c.trim()?Object(l.jsx)(h,{suggestions:b,userInput:c,onSelect:function(t){r(t),e.onSubmit(t)}}):Object(l.jsx)(l.Fragment,{})]})}function m(){return Object(l.jsx)("div",{className:"App","data-testid":"App",children:Object(l.jsx)(b,{autofocus:!0,onSubmit:function(e){return console.log("Submitted:",e)}})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(l.jsx)(m,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[17,1,2]]]);
//# sourceMappingURL=main.c051a68c.chunk.js.map